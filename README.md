# Trust Chat Platform

## 概要

Trust Chat Platform は、Internet Computer Protocol (ICP) 上に構築された分散型 AI チャットプラットフォームです。ユーザーはオンチェーンで記録された透明性の高い AI モデル情報を確認しながら、複数の AI モデルから選択してチャットを楽しめます。特に、学習時に恣意的な情報が与えられる可能性があるモデルに対して、ユーザーが安心して利用できる選択肢を提供します。

![サンプル動作](assets/trust_chat.gif)

URLs:
  Frontend canister via browser:
    trust-chat-platform-frontend: https://ckvys-wqaaa-aaaae-qcu5a-cai.icp0.io/
  Backend canister via Candid interface:
    doraemon-o3-mini: https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.icp0.io/?id=3s4yq-viaaa-aaaan-qzyia-cai
    english-teacher-gpt4o: https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.icp0.io/?id=td5pj-miaaa-aaaap-qpyiq-cai
    model-canister-template: https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.icp0.io/?id=q43x6-6iaaa-aaaao-a4cja-cai
    registry-canister: https://a4gq6-oaaaa-aaaab-qaa4q-cai.raw.icp0.io/?id=earrz-faaaa-aaaah-qqagq-cai

将来的には、地方ごとに特化したローカル LLM が「八百万の神々」のように出現すると考えられるため、そういった AI エコシステムの基盤として活用されることを目指しています。

## プロジェクトの魅力：分散型 AI の新時代

Trust Chat Platform は、従来の中央集権型 AI プラットフォームの限界を超える革新的なアプローチを採用しています：

### 1. 透明性と信頼性

- **オンチェーン記録**: AI モデルの情報（提供者、API エンドポイント、システムプロンプトなど）がブロックチェーン上に記録され、改ざん不可能
- **コード変更の追跡**: キャニスターのアップグレード履歴は IC ネットワーク上に記録され、AI モデルの勝手な改ざんは発見可能
- **検証可能性**: モデルのコードハッシュとコントローラー（管理者）情報が公開され、誰でも検証可能

### 2. 分散型アーキテクチャ

- **独立したキャニスター**: 各 AI モデル（キャラクター）は独立した ICP キャニスターとして動作し、単一障害点のない堅牢なシステムを実現
- **分散実行**: キャニスターは ICP ネットワーク上の複数のノードで実行され、高可用性を確保
- **分散ホスティング**: フロントエンドも Asset Canister として分散ホスティングされ、検閲耐性を持つ

### 3. ユーザー中心の設計

- **データ主権**: ユーザーのチャット履歴は分散保存され、特定の企業による一元管理から解放
- **カスタマイズ可能な AI 体験**: 様々な特性を持つ AI キャラクターから選択でき、個々のニーズに合わせた対話が可能
- **ユーザー主導のエコシステム**: 将来的にはコミュニティが AI モデルの開発・管理に参加できる仕組みを目指す

### 4. 現状の課題と今後の展望

- **外部 API 依存**: 現状では AI 推論処理は外部 API（OpenAI, Anthropic など）に依存しており、完全な分散性は実現できていない
- **変更履歴の可視化**: キャニスターの変更履歴を一般ユーザーが簡単に閲覧できるツールは現状では限られている
- **将来展望**: オンチェーン AI 推論、分散ガバナンス（DAO による管理）、変更履歴の可視化ツールの開発を計画

## アプリの特徴と ICP 活用メリット

本プラットフォームが ICP を活用して実現する「差別化された機能」と、それによってユーザーが得られるメリットをカテゴリ別にまとめています。

### 🔷 AI チャット利用
| 特徴 | 実装場所 | ICP 活用メリット | 現状 |
|------|----------|-----------------|------|
| 直接 Canister 間通信 | Frontend → Model Canister | 中央サーバー不要で低レイテンシの対話 | 実装済み |
| 永続化された会話履歴 | Model Canister の Stable Storage | オンチェーンに改ざん不可で保存 | 実装済み |
| モデル透明性 | Registry Canister のメタデータ | どのような AI モデルか事前確認可能 | 実装済み |

### 🔷 AI モデル登録と透明性
| 特徴 | 実装場所 | ICP 活用メリット | 現状 |
|------|----------|-----------------|------|
| オンチェーン登録レジストリ | Registry Canister | 透明性・検閲耐性を持つモデル一覧 | 実装済み |
| コード変更の追跡 | IC ネットワーク | モデルの不正な改変を検出可能 | 基本機能実装済み、UI 未実装 |
| API エンドポイントの明示 | Model Info | どの外部 API を使用しているか透明化 | 実装済み |

### 🔷 分散型ホスティングと可用性
| 特徴 | 実装場所 | ICP 活用メリット | 現状 |
|------|----------|-----------------|------|
| 分散ホスティング | Asset Canister | CDN 不要でグローバル配信、検閲耐性 | 実装済み |
| 高可用性 | ICP ネットワーク | 99.9% の稼働率、単一障害点なし | 実装済み |
| サイクルベース料金 | ICP エコシステム | 従量制で利用コストを透明化 | 実装済み |

## 現在のモデル一覧

現在、以下のモデルに対応しています：

1. **英会話講師** (OpenAI GPT-4o-mini)
   - 日本人向けの英会話講師。語彙や文法の修正を丁寧に行います。
   - キャラクター名: Lady Victoria

2. **ドラえもん** (OpenAI o3-mini)
   - 22世紀から来た猫型ロボット。ひみつ道具を出して、のび太くんの手助けをします。
   - キャラクター名: ドラえもん

## プロジェクト構造

Trust Chat Platform は以下のキャニスター（スマートコントラクト）で構成されています：

1. **Registry Canister**: AI モデルの登録・管理を行うレジストリ
2. **Model Canister Template**: AI モデルの共通テンプレート
3. **Model Instances**: 各 AI キャラクター（英会話講師、ドラえもんなど）の個別インスタンス
4. **Frontend Canister**: ユーザーインターフェースを提供する Asset Canister

### AI モデル分離設計の意図

各 AI モデルを独立したキャニスターとして実装することで、以下のメリットを実現しています：

1. **透明性の最大化**: 各モデルのコード、設定、API エンドポイントが個別に検証可能
2. **責任の明確化**: モデル提供者ごとに責任範囲が明確になる
3. **スケーラビリティの向上**: 各モデルは独自のリソースを持ち、他のモデルに影響を与えない
4. **分散ガバナンスの実現**: 将来的に各モデルを異なるコミュニティが管理可能に
5. **セキュリティの強化**: モデル間の分離によりリスクを低減

## 将来の展望

### 透明性と変更追跡の強化

現状では、キャニスターのコード変更履歴は IC ネットワーク上に記録されていますが、一般ユーザーが簡単に閲覧するツールは限られています。今後は以下の機能を開発予定です：

1. **変更履歴ダッシュボード**: AI モデルの変更履歴を簡単に確認できる UI
2. **アラート機能**: 重要な変更があった場合にユーザーに通知する機能
3. **差分表示**: 変更前後のコードやシステムプロンプトの差分を表示する機能

### 分散型評価システム

現在のスコアリングシステムはプロトタイプ段階であり、将来的には以下のような分散型評価システムへと発展させる計画があります：

1. **分散型検証ネットワーク**: 複数の独立した検証者によるモデル評価
2. **オンチェーン評価記録**: 評価結果をブロックチェーン上に記録
3. **自動検証プロトコル**: AI モデルの動作を自動的に検証する標準プロトコル
4. **コミュニティガバナンス**: 評価基準の更新や改善をコミュニティが主導

### オンチェーン AI の実現

現状では AI 推論処理は外部 API に依存していますが、将来的には以下の方向性で完全なオンチェーン AI を目指します：

1. **軽量 LLM の ICP 実装**: 小規模な言語モデルを ICP 上で直接実行
2. **分散推論ネットワーク**: 複数のキャニスターで協調して大規模モデルを実行
3. **プライバシー保護推論**: ユーザーデータを保護しながら AI 推論を実行する技術

## 開発リソース

- [Internet Computer ドキュメント](https://internetcomputer.org/docs/current/developer-docs/setup/deploy-locally)
- [SDK 開発者ツール](https://internetcomputer.org/docs/current/developer-docs/setup/install)
- [Rust Canister 開発ガイド](https://internetcomputer.org/docs/current/developer-docs/backend/rust/)
- [Candid 入門](https://internetcomputer.org/docs/current/developer-docs/backend/candid/)

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。